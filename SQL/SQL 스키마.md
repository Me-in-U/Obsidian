# 관계
### 1. 계념 정리
- **식별 관계 (Identifying Relationship)**:
    - 부모 테이블의 기본 키(PK)가 자식 테이블의 기본 키(PK)의 일부가 됨
    - 실선(———)으로 표현
    - 부모가 없으면 자식이 존재할 수 없음
    - 부모의 존재가 자식의 기본 키를 결정하는 데 필수적임
- **비식별 관계 (Non-Identifying Relationship)**:
    - 부모 테이블의 기본 키(PK)가 자식 테이블의 외래 키(FK)로만 존재 (자식의 기본 키에는 포함되지 않음)
    - 점선(- - - -)으로 표현

### **2. 예제 (부모의 존재가 자식의 식별에 영향을 주는 경우)**

#### **(1) 식별 관계 예제**

> 부모가 없으면 자식이 존재할 수 없으며, 자식 테이블의 기본 키가 부모의 기본 키를 포함하는 경우.

```SQL
CREATE TABLE 고객 (
    고객ID INT PRIMARY KEY,
    이름 VARCHAR(50)
);

CREATE TABLE 주문 (
    고객ID INT,  -- 부모(고객) 테이블의 기본 키가 자식(주문) 테이블의 기본 키에 포함됨
    주문번호 INT,
    PRIMARY KEY (고객ID, 주문번호),  -- 고객ID가 PK의 일부 (식별 관계)
    FOREIGN KEY (고객ID) REFERENCES 고객(고객ID)
);
```

✅ **식별 관계의 특징**
- `고객ID`가 `주문` 테이블의 **기본 키**에 포함됨.
- 즉, 주문의 존재는 고객의 존재에 의존하며, 고객이 삭제되면 해당 고객의 주문도 삭제됨 (ON DELETE CASCADE 가능).
#### **(2) 비식별 관계 예제**

> 부모의 존재가 자식의 식별에는 영향을 주지 않으며, 단순히 외래 키(FK)로만 사용되는 경우.

```SQL
CREATE TABLE 주문 (
    주문번호 INT PRIMARY KEY,
    고객ID INT,
    FOREIGN KEY (고객ID) REFERENCES 고객(고객ID)
);
```

✅ **비식별 관계의 특징**
- `고객ID`는 `주문` 테이블의 기본 키에 포함되지 않음.
- 주문의 식별은 `주문번호` 하나로 결정되며, 고객의 존재 유무가 직접적인 영향을 주지 않음.